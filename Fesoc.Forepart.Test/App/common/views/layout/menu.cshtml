@using Fesoc.Forepart.Test.App_Start.Bunding

<div ng-controller="common.views.layout.menu as vm">
    <ul class="sidebar-menu" ng-if="vm.menu.items.length">

        <li class="treeview" ng-repeat="menuItem in vm.menu.items">
            <!--子菜单不存在-->
            <a href="{{menuItem.href}}" ng-if="!menuItem.items.length" class="menu-item-link">

                <i class="{{menuItem.icon}}"></i>

                <span class="menu-item-title">{{menuItem.name}}</span>
            </a>
            <!--子菜单存在-->
            <a href="javascript:;" ng-if="menuItem.items.length">

                <i class="{{menuItem.icon}}"></i>

                <span>{{menuItem.name}}</span>
                <i class="fa fa-angle-left pull-right"></i>
            </a>

            <!--子菜单-->
            <ul class="treeview-menu" ng-if="menuItem.items.length" style="display: none;">
                <li class="treeview" ng-repeat="childMenuItem in menuItem.items">
                    <a href="{{childMenuItem.href}}" class="menu-item-link" ng-if="!childMenuItem.items.length">

                        <i class="{{childMenuItem.icon}}"></i>

                        <span class="menu-item-title">{{childMenuItem.name}}</span>
                    </a>

                    <a href="javascript:;" ng-if="childMenuItem.items.length">

                        <i class="{{childMenuItem.icon}}"></i>

                        <span>{{childMenuItem.name}}</span>
                        <i class="fa fa-angle-left pull-right"></i>
                    </a>

                    <!--子菜单嵌套-->
                    <ul class="treeview-menu" ng-if="childMenuItem.items.length" style="display: none;">
                        <li ng-repeat="childOfMenuItem in childMenuItem.items">
                            <a href="{{childOfMenuItem.href}}" class="menu-item-link">

                                <i class="{{childOfMenuItem.icon}}"></i>

                                <span class="menu-item-title">{{childOfMenuItem.name}}</span>
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
</div>
<script>
        $(document).ready(function () {
            $('#backTop').backTop();

            @*$('a.sidebar-toggle').on('click', function () {
                debugger;
                var collapsed = $('body').hasClass('sidebar-collapse');
                saveUserPreferences('@(Url.Action("SavePreference", "Preferences"))', 'hideSidebar', collapsed);
            });*@
        });
</script>